<HTML>
<META name = 'viewport' content = 'width = device-width, initial-scale = 1'>
<SCRIPT>
InitWebSocket()
function InitWebSocket(){
  websock = new WebSocket('ws://'+window.location.hostname+':88/');
  websock.onmessage = function(evt){
    JSONobj = JSON.parse(evt.data);
    document.getElementById('btn').innerHTML = JSONobj.LEDonoff ; 
    if(JSONobj.LEDonoff == 'ON'){
       document.getElementById('btn').style.background = '#FFA200';
       document.getElementById('btn').style["boxShadow"] = "0px 0px 0px 8px #FFA200";
    }else{
       document.getElementById('btn').style.background = '#111111';
       document.getElementById('btn').style["boxShadow"] = "0px 0px 0px 8px #111111";
    }
  }
}
function button(){
  btn = 'LEDonoff=ON';
  if(document.getElementById('btn').innerHTML === 'ON'){
     btn = 'LEDonoff=OFF';
  }
  websock.send(btn);
}
function Botao(numero) {
    var request = new XMLHttpRequest();
    request.open("GET", "ajax_botao" + numero, true);
    request.send(null);
    request.onreadystatechange = function()
    {
        if (this.readyState == 4) {
            if (this.status == 200) {
                if (this.responseText != null) {
                    var dados = this.responseText.split('|');

                    for (i = 1; i <= 40; i++) {
                        if (dados[i] == 0) {
                            document.getElementById("botao" + i).innerHTML = "<div class='rele_desligada'></div>";
                        } else {
                            document.getElementById("botao" + i).innerHTML = "<div class='rele_ligada'></div>";
                        }
                    }

                }
            }
        }
    }
}
</SCRIPT>
<style type="text/css">
          /* Estilo para a barra de menus */
        .menu-bar {
            background-color: #333; /* Cor de fundo da barra */
            padding: 10px 0; /* Espaçamento vertical */
        }

        .menu-bar ul {
            list-style-type: none; /* Remove marcadores da lista */
            margin: 0;
            padding: 0;
            display: flex; /* Exibe os itens lado a lado */
            justify-content: center; /* Centraliza o menu */
        }

        .menu-bar li {
            margin: 0 15px; /* Espaçamento entre os itens */
        }

        .menu-bar a {
            color: white; /* Cor do texto */
            text-decoration: none; /* Remove sublinhado */
            font-size: 16px;
            padding: 5px 10px;
            transition: background-color 0.3s; /* Transição suave */
        }

        .menu-bar a:hover {
            background-color: #555; /* Cor ao passar o mouse */
            border-radius: 5px;
        }
    div > h2{
        color: #00979C;
    }
    body{
        font-family: Arial;
        margin: 0px;
    }
    .header{
        width: 100%;
        
        margin-top: 0px;
        margin-bottom: 3px;
        background-color: #F6F9F9;     
        text-align: right;
        color: gray;
        font-size: 11px;
    }

    #wrapper {
        padding-top: 10px;
        position: relative;
        width: 95%;
        height: 400px;
        margin-right: auto;
        margin-top: 0;
        margin-left: auto;
        font-size: 30px;
        color: gray;
        text-align: center;
        font-family: arial;
        border: 0px solid red;
    }

    div.rele_ligada {
        background-color: green;
        position: absolute; 
        left:0px; 
        top:0px; 
        width: 47px; 
        height: 47px; 
        border-radius:5px;
    }

    div.rele_desligada {
        background-color: gray;
        position: absolute; 
        left:0px; 
        top:0px; 
        width: 47px; 
        height: 47px; 
        border-radius:5px;
    }


    .botao {
        position: absolute; 
        left:55px; 
        top:0px;

        -moz-box-shadow:inset 0px 1px 0px 0px #ffffff;
        -webkit-box-shadow:inset 0px 1px 0px 0px #ffffff;
        box-shadow:inset 0px 1px 0px 0px #ffffff;
        background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #ededed), color-stop(1, #dfdfdf) );
        background:-moz-linear-gradient( center top, #ededed 5%, #dfdfdf 100% );
        filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ededed', endColorstr='#dfdfdf');
        background-color:#ededed;
        -moz-border-radius:6px;
        -webkit-border-radius:6px;
        border-radius:6px;
        border:1px solid #dcdcdc;
        display:inline-block;
        color:#777777;
        font-family:arial;
        font-size:28px;
        font-weight:bold;
        padding:6px 24px;
        text-decoration:none;
        text-shadow:1px 1px 0px #ffffff;
        width: 150px;
        text-align: center;
    }.botao:hover {
        background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #dfdfdf), color-stop(1, #ededed) );
        background:-moz-linear-gradient( center top, #dfdfdf 5%, #ededed 100% );
        filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#dfdfdf', endColorstr='#ededed');
        background-color:#dfdfdf;
        cursor: pointer;
    }.botao:active {
}
h1 {
  font-size: 40px;
  text-align: center;
}
#btn{
  display: inline-block;
  text-decoration:none;
  background: #8cd460;
  color: rgba(255,255,255,0.80);
  font-weight: bold;
  font: 100px arial,sans-serif;
  width: 320px;
  height: 320px;
  line-height: 320px;
  border-radius: 50%;
  margin-top: 60px;
  text-align: center;
  vertical-align: middle;
  overflow: hidden;
  box-shadow: 0px 0px 0px 8px #8cd460;
  border: solid 2px rgba(255,255,255, 0.47);
  transition: 0.4s;
}
footer {
  background-color: #333;
  color: white;
  text-align: center;
  padding: 15px 0;
  margin-top: 20px;
font-size: 14px;
}
/*botão slider*/  
.switch {
  position: relative;
  display: inline-block;
  width: 90px;
  height: 36px;
}

.switch input {display:none;}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ca2222;
  -webkit-transition: .4s;
  transition: .4s;
  border-radius: 6px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 34px;
  width: 32px;
  top: 1px;
  left: 1px;
  right: 1px;
  bottom: 1px;
  background-color: white;
  transition: 0.4s;
  border-radius: 6px;
}

input:checked + .slider {
  background-color: #2ab934;
}

input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(55px);
}
.slider:after {
  content:'OFF';
  color: white;
  display: block;
  position: absolute;
  transform: translate(-50%,-50%);
  top: 50%;
  left: 50%;
  font-size: 10px;
  font-family: Verdana, sans-serif;
}
input:checked + .slider:after {
  content:'ON';
}  
    </style>
  </head>
  <BODY>
  <center>
    <header>
      <nav class="menu-bar">
        <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="#sobre">Sobre</a></li>
          <li><a href="#servicos">Serviços</a></li>
          <li><a href="#contato">Contato</a></li>
        </ul>
      </nav>
    </header> 
        <div class="header"><div style="padding: 5px;">Projeto inicial para ESP8266 Francismar dos Santos</div></div>
        <h1>PORTAS EM FUN&Ccedil;&Atilde;O DIGITAL</h1>
        <img src="https://impressora-1.francismardos.repl.co/images/sws/progress-bar_ani.gif">
    <label class="switch">
      <input type="checkbox" id="togBtn">
      <div class="slider"></div>
    </label>
        <div id='wrapper'>
          <a href = "#" id = "btn" ONCLICK = 'button()'></a>
        </div> 
        <br>
       <!-- Rodapé -->
        <footer>
        </footer>
    </center>
</BODY>
</HTML>
